<h1 id="map-data">map = ‚Äú<a href="data.html">data</a>‚Äù</h1>
<p>The fundamental data type in <a href="Wasp.html">Wasp</a> is a tree of <a href="node.html">node</a>s,
represented as nested map of maps.<br />
Just like how in lisp everything is a list, in <a href="angle.html">angle</a> everything is a
map.<br />
Or internally: a <a href="node.html">node</a> with parent, children and values.</p>
<p><code>Peter{address="Home 1"}</code></p>
<p>is internally represented as</p>
<pre><code>Node{
 name=&quot;Peter&quot;
 children={
   Node{
     name=&quot;address &quot;
     value=Node{
         name=&quot;Home 1&quot; 
         type=string
     }  
  }
}</code></pre>
<p><a href="null.html">null</a> values are omitted</p>
<h2 id="map-functor">map functor</h2>
<p>The map <a href="functor.html">functor</a> of other programing languages is not necessary
because it is a first class citizen:</p>
<p>All functions are automatically <a href="broadcasting.html">broadcasting</a> on <a href="list.html">list</a>s and
<a href="pair.html">pair</a> values:</p>
<pre><code>square number=number*number
square [1 2 3] == [1 4 9]

square [a:1 b:2 c:3] == [a:1 b:4 c:9]

delete file := run `rm $file.name`
delete all files in ls /   # üßê</code></pre>
<p>Even though the map functor is part of angle, in 99% situations it
should be superfluous via <a href="all.html">all</a>/<a href="iteration.html">iteration</a> as seen above.</p>
<p>similarly, applying a map is one of the most fundamental
operations.<br />
The rust <code>match element map</code> functor will be supported but
may still be too verbose if used very often.<br />
There is possibly <a href="ambiguity.html">ambiguity</a> with adopting math notation though
<code>f={a:1 b:2}   f(a) == 1</code>. This MAY be resolved by reading
f(a=2) and f(a) very differently, because in the current scheme
<code>f(a=2) == {a:2 b:3}</code> or worse f(a=2)==3, because the last
expression of the block is returned <a href="todo.html">todo</a>.</p>
<h1 id="tree">tree</h1>
<p>A tree in wasp is just a nested <a href="map.html">map</a>. The <a href="node.html">node</a>s may be
<a href="key.html">key</a>s or <a href="data.html">data</a>.</p>
<h1 id="lisps">lisps</h1>
<p>It‚Äôs obvious that one of the biggest shortcommings of classical lisps
is that there is no standard first class citizen integration of
maps.</p>
<p>However Clojure maps, Fennel tables and Janet structs/tables at least
partially address this issue:</p>
<p>https://clojure.org/guides/learn/hashed_colls#_maps</p>
<p>https://fennel-lang.org/tutorial#tables</p>
<p>https://janet-lang.org/docs/data_structures/structs.html</p>
