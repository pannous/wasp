<p><code>(1 2 3) {1 2 3} [1 2 3]</code> all denote a list with 3
elements. <code>{a:1 b:2 c:3} [a:1 b:2 c:3] (a:1 b:2 c:3)</code> all
denote a <a href="map.html">map</a> with 3 elements.</p>
<p>The fundamental data type of lisp is a list,<br />
The fundamental data type of wasp is a <a href="node.html">node</a>:</p>
<p>A node can express different forms of <a href="data.html">data</a>, it contains a list of
other node_pointer, which might be <a href="key.html">key</a> -<a href="value.html">value</a>-<a href="pair.html">pair</a>s,
naturally forming <a href="map.html">map</a>s which can be evaluated as <a href="block.html">block</a>s.</p>
<p>lists can have different grouping symbols:<br />
separators ‘,’ ‘;’ ‘’ ‘’ ’ ‘|’ and<br />
enclosures ‘()’ ‘[]’ ‘{}’.</p>
<p>These different enclosures have slightly different semantics:<br />
* () <a href="group.html">group</a>s are used for [<a href="#tuples">tuples</a>] * {}
<a href="object.html">object</a>s are used for <a href="blocks.html">blocks</a> * [] <a href="pattern.html">pattern</a>s are used for
<a href="matching.html">matching</a> and <a href="indexing.html">indexing</a></p>
<p>However, Without special context, all combinations of enclosures and
groupings are identical denotations for lists:</p>
<pre><code>a={1 2 3}
b=[x,y,z]
c=(&quot;u&quot;;&quot;v&quot;;&quot;w&quot;)
d=1,2,3
e=(1;2;3)
f={
 x=1
 y=2
 z=3
}// functions as lists of statements/expression separated by &#39;\n&#39; are still a kind of list</code></pre>
<ul>
<li>square braces can have special semantics as <a href="pattern.html">pattern</a>s</li>
<li>curly braces can have special semantics as <a href="closure.html">closure</a>s /
<a href="code.html">code</a></li>
</ul>
<p>As such, cvs and tsv files are valid <a href="data.html">data</a> in <a href="wasp.html">wasp</a>. Lists with
different enclosures and groupings can be nested to form higher order
<a href="array.html">array</a>s, <a href="map.html">map</a>s, <a href="matrix">matrices</a>, <a href="tensor.html">tensor</a>s etc:
<code>m=(1 2; 3 4)</code></p>
<h1 id="custom-enclosures">custom enclosures</h1>
<p>Utf has a variety of enclosures, angle supports them out of the
box.</p>
<pre><code>() ﴾ ﴿ ﹙﹚（ ） ⁽ ⁾  ⸨ ⸩
{} ﹛﹜｛｝    ﹝﹞〔〕〘〙  
[] 〚〛〖〗【】『』「」｢｣ ⁅⁆
«» 《》〈〉〈〉
︷ ︵ ﹁ ﹃ ︹ ︻ ︽
︸ ︶ ﹂ ﹄ ︺ ︼ ︾</code></pre>
<p>By default these act just like common <a href="group.html">group</a>s however custom
circumflex operator overloading is planned.</p>
<p>also see ‖…‖ norm, floor and ceiling operators</p>
<h1 id="mathematical-vectors">mathematical vectors</h1>
<p>within curly braces <code>{}</code> all groupings act as column
forming! otherwise ’ ’ and ‘,’ act as row forming, whilst ‘;’ and ‘’ act
as column forming!</p>
<pre><code>x=(1 2) y={3 4} 
x*y = 11 // 1*3+2*4</code></pre>
<p>All functions automatically consume lists via auto
<a href="broadcasting.html">broadcasting</a>:</p>
<pre><code>square:=it*it
square 1 2 3 == 1 4 9</code></pre>
<p>lists have outer operators, inner operators and element wise
operators:</p>
<pre><code>x={1 2}
x x = (1 2; 1 2) // outer concatenation
x + x = (1 2 1 2)  // list concatenation
x .+ x = (2 4)  // element wise addition
x \+ x = (2 4)  // inner addition
x /+ x = (2 3; 3 4) // outer addition</code></pre>
<p>The following is typical data with implicit lists in <a href="wasp.html">wasp</a>:</p>
<pre><code>v=1,2,3
m=(1 2 3, 4 5 6)
t=(1 2, 3 4; 5 6, 7 8)</code></pre>
<p>Because space, comma, semicolon and Newline have decreasing
<a href="binding.html">binding</a>, they can be used to form arrays, matrices, tensors of
three, four or higher dimension.</p>
<p>The fundamental data type of lisp is a list,<br />
The fundamental data type of wasp is a <a href="node.html">node</a><br />
which contains a list of other node_pointer, a <a href="value.html">value</a> and or a ‘next’
node which might form <a href="key.html">key</a>-<a href="value.html">value</a> -<a href="pair.html">pair</a>s, naturally forming
<a href="map.html">map</a>s which can be evaluated as <a href="block.html">block</a>s:</p>
<pre><code>{a b:c d{e f g}}</code></pre>
<p>When space, comma, semicolon or newline are used purely unmixed,
their usage is equivalent, all forming the same
list:<code>1 2 3 == 1,2,3 == 1;2;3</code> In context however their
semantics vary (as seen above in case of the tensor, or ubiquitously in
programming code blocks). Comma and space bind more closely than
assignment so that a=1,2,3 can be written without braces.</p>
<p>All functions can be fed with lists because of auto broadcasting: If
a method does not have a signature which takes explicit lists, each
parameter will get applied individually: square(1,2,3)==1 4 9</p>
<p>Todo: maybe add compiler warning for [] lists:<br />
“patterns [] have special semantics in wasp and should be avoided as
lists. Use () for lists instead”</p>
<h1 id="tuples">Tuples</h1>
<p>A tuple is a <a href="list.html">list</a> with fixed length and fixed size. A named tuple
is a map with fixed keys, length and size.</p>
<p>Because of these properties addition of tuples is element wise: ( 1 2
3 ) + ( 4 5 6 ) == (5 7 9)</p>
<p>This is an important distinction to object lists where {1 2 3 } + { 4
5 6 } == {1 2 3 4 5 6 }</p>
<p>Unlike in some other languages, tuples in angle can be both mutable
and immutable (constant final).</p>
<p>To be safe angle has explicit element wise operations .+ etc</p>
<p>Todo: can the ++ operator be overloaded for tuple concatenation ?
Conflicts with element wise increase</p>
<h1 id="arrays-and-vectors">Arrays and Vectors</h1>
<p>Arrays are lists of fixed type and possibly predefined length.
Vectors are (numerical) lists of fixed length and fixed type.</p>
<pre><code>x:int[10]
y:char[20]
z:person[]</code></pre>
<p>Note that in angle, <a href="char.html">char</a> is shorthand for utf-8 character (
<a href="codepoint.html">codepoint</a> )</p>
<p>Internal note: Angle arrays are allocated in wasm linear memory, thus
on ‘heap’ so to speak.</p>
<p>Todo: python style array or hash initialization: a=[] b={}</p>
<h1 id="typed-lists">Typed lists</h1>
<p>Lists of objects are denoted by semantic plural ‘s’:</p>
<pre><code>person{
    numbers
    addresses
}</code></pre>
<p>means class person has an array of type number and and array of type
address as <a href="field.html">field</a></p>
<p>equivalent syntax:</p>
<pre><code>numbers x  // angle style
number[] x  // c style
x : [number]  // Swift style
x = number[]
x is list of number
x is list of numbers</code></pre>
<p><a href="danger.html">danger</a> : <code>numbers x,y,z</code> means x,y,z are each of type
number (not each a list)!</p>
<h3 id="internal-representation">Internal representation</h3>
<p>Typed arrays have Node kind <code>Type::arrays</code> and any Node
<a href="type.html">type</a>.</p>
<p>Untyped arrays and typed vectors are represented via Node kind:</p>
<pre><code>enum Type {
    // each class can be made into a typed list / vector int =&gt; int[] :
    classe, // as Java class,  primitive int vs Node(kind==int) == boxed IntegerType.
    vectors, // any[] vs Node[]  list of type class!  e.g.  numbers xs =&gt; xs.type=number(type=vectors)
    arrays, // Node[] vs any[]  untyped array of Nodes. Unlike vector the node is NOT a class!
}</code></pre>
<h1 id="list-initialization">List initialization</h1>
<p>As angle is both a high level and low level programming language, it
allows abstract arrays and construction of memory bound arrays:</p>
<pre><code>person{
    numbers
    addresses
    id:int[8]
}</code></pre>
<p>Speakable syntax for list initialization:</p>
<pre><code>    id of 8 numbers
    id is 8 numbers
    id as 8 numbers</code></pre>
