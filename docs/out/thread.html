<p><a href="async.html">async</a> threading follows the go/zig path to be invoked on the
caller side.<br />
On the callee side, functions are agnostic whether they are called in a
synchronous or asynchronous way.<br />
This way function coloring and the huge syntactic and semantic
async/await overhead mess is avoided:</p>
<pre><code>go { sleep 1s and print &quot;second&quot;; done = true }
print &quot;first&quot;
last = after done return &quot;third&quot;
cancel last
// print last // warning: last is optional and asynchronous
print await last or &quot;no third&quot;</code></pre>
<p>The <code>after</code> keyword creates an (aspect oriented) implicit
<a href="signal.html">signal</a> listener on the variable <code>done</code></p>
<p>Concurrent or asynchronous <a href="task.html">task</a>s can be paused, stopped, etc</p>
<p>Avoiding Function coloring:
https://news.ycombinator.com/item?id=28657358</p>
